<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Machine Learning, R Programming, Statistics, Artificial Intelligence">
    <meta name="author" content="Manuel Amunategui">
    <link rel="icon" href="../favicon.ico">

    <title>GPUs on Google Cloud - the Fast Way & the Slow Way</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../blog.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-55202104-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-55202104-1');
  </script>

  </head>
<body>
  
 <div class="blog-masthead">
    <div class="container">
      <nav class="blog-nav">
        <a class="blog-nav-item active" href="../index.html">Home</a>
        <a class="blog-nav-item" href="https://www.linkedin.com/in/manuel-amunategui-20748923" target='_blank'>Linkedin</a>
        <a class="blog-nav-item" href="https://www.youtube.com/user/mamunate/videos" target='_blank'>Videos</a>
        <a class="blog-nav-item" href="https://github.com/amunategui/Feedback/issues/new" target='_blank'>Feedback</a>
      </nav>
    </div>
</div>

<div class="container">

  <div class="blog-header">
    <h1 class="blog-title">GPUs on Google Cloud - the Fast Way & the Slow Way</h1>
    <p class="lead blog-description">Practical walkthroughs on machine learning, data exploration and finding insight.</p>
  </div>
  

<p><strong>On YouTube:</strong></p>
<ul>
<li type="square"><a href="https://www.youtube.com/watch?v=W-FqRBoyTgw&list=UUq4pm1i_VZqxKVVOz5qRBIA&index=1" target="_blank"><img src="img/yelp-app-engine-youtube.jpg" alt="YouTube.com companion link" width="120" height="90" border="10" /></a></li>
</ul>
<BR><BR>
<p>
Here are the notes on two methods to get GPUs up-and-running for Tensorflow on Google Cloud. A quick one using pre-built Jetware instances, and one from scratch using a VM. 
</p>
<BR>
<p>Note: notes not meant to stand alone, use with corresponding <a href="https://www.youtube.com/watch?v=W-FqRBoyTgw&list=UUq4pm1i_VZqxKVVOz5qRBIA&index=1" target="_blank">video</a></p>
<BR><BR>
<H1>Method 1: Jetware Instances</H1>
<p style="text-align:center">
<img src="img/image001.png" alt="Jetware" style='padding:1px; border:1px solid #021a40; width: 80%; height: 80%'>
</p>
<BR><BR>
<H3>Enable GPU quotas</H3>
<p>
For either approach you need a credit-card enabled GCP account even if you are using free credits. You also need to change GPU Quotas to allow for at least one GPU. In the search bar in your Google Cloud Platform. Enable the GPU you want for your region. Click "EDIT QUOTAS", fill the form and wait for Google's green light.
</p>
<p style="text-align:center">
<img src="img/image002.png" alt="Quotas" style='padding:1px; border:1px solid #021a40; width: 80%; height: 80%'>
</p>
<BR><BR>
<p>
Type in GPU in the search bar and select the "Tensorflow NVidia GPU"
</p>
<p style="text-align:center">
<img src="img/image003.png" alt="Quotas" style='padding:1px; border:1px solid #021a40; width: 80%; height: 80%'>
</p>
<BR><BR>
<p>
Deploy your Jetware instance, hit the Jupyter button and tensor away!
</p>
<p style="text-align:center">
<img src="img/image004.png" alt="Jetware Instance" style='padding:1px; border:1px solid #021a40; width: 80%; height: 80%'>
</p>
<BR><BR>
<H1>Method 2: From Scratch</H1>
<p>
Let's do the above from scratch (big thanks to Eric Scuccimarra
https://medium.com/google-cloud/setting-up-tensorflow-gpu-on-google-cloud-instance-with-ubuntu-16-04-53cb6749b527)
</p>
<p>
You still need to enable GPUs and have a credit-card enabled account (see above for steps).
</p>
<p style="text-align:center">
<img src="img/image005.png" alt="Instance" style='padding:1px; border:1px solid #021a40; width: 80%; height: 80%'>
</p>
<BR><BR>
<p>Choose <b>Ubuntu 16.04</b> and an appropriate boot disk size. The create your instance.</p>

Get the instance started and click on 'Create'

Get cuDNN - You need to become a member of the "NVIDIA Developer Program" in order to get cuDNN, the "Deep Neural Network (cuDNN)" binaries. Signup at https://developer.nvidia.com/developer-program and wait for your confirmation email.

  







 
</div>
</body>
</html>
